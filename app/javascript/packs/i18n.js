const values = {
  en: {
    de: 'German',
    en: 'English',
    fr: 'French',
    es: 'Spanish',
    it: 'Italian',
    ja: 'Japanese',
    nl: 'Dutch',
    pl: 'Polish',
    pt: 'Portuguese',
    'pt-br': 'Brazilian Portuguese',
    'pt-pt': 'European Portuguese',
    ru: 'Russian',
    zh: 'Chinese',
    language: 'UI language',
    web_store_description: 'This page is for users of Deep Translator. If you haven\'t installed Deep Translator yet, please go to the Chrome Web Store and install it.',
    web_store_link: 'Chrome Web Store',
    options_page_description: 'If you have already installed Deep Translator, you can change the translation settings on the extension options page.',
    options_page_link: 'Deep Translator Options',
    account: 'Account',
    sign_in: 'A license key will be issued after <a class="sign-in" href="#">signing in</a>.',
    sign_out: '<a id="sign-out" href="#">Sign out</a>',
    license_key: 'License key',
    enter_license_key: 'Please enter the above key on the <a href="%{url}">options page</a>.',
    support_account: 'Support account',
    privacy_policy: 'Privacy policy',
    terms_of_service: 'Terms of service',
    plan: 'Plan',
    free_plan_description: 'You are using the free version of Deep Translator.Please enter the above key on the <a href="%{url}">options page</a>.',
    pro_plan_description: 'You are using the pro version of Deep Translator.',
    visitor_plan_description: 'In order to use the free version of Deep Translator, please <a class="sign-in" href="#">sign in</a> and issue a license key.',
    free_plan_name: 'Free',
    free_plan_audience: 'For hobbyists',
    free_plan_price_amount: '$0',
    free_plan_price_description: 'per person, per month, when billed monthly',
    free_plan_features: 'Top features:',
    free_plan_characters_per_translation: '250 characters per translation',
    free_plan_characters_per_month: '10,000 characters per month',
    free_plan_button: 'Get free license',
    free_plan_link: '',
    free_plan_user_help: 'You already have a license for the free version as you are signed in.',
    free_plan_visitor_help: 'You can get a free license by simply <a class="sign-in" href="#">signing in</a>.',
    pro_plan_name: 'Pro',
    pro_plan_audience: 'For business',
    pro_plan_price_amount: '$5',
    pro_plan_price_description: 'per person, per month, when billed monthly',
    pro_plan_features: 'Top features:',
    pro_plan_characters_per_translation: 'Unlimited characters per translation',
    pro_plan_characters_per_month: 'Unlimited characters per month',
    pro_plan_user_button: 'Upgrade',
    pro_plan_licensee_button: 'Purchased',
    pro_plan_visitor_button: 'Upgrade',
    pro_plan_link: '',
    pro_plan_cancel_button: 'Cancel a subscription',
    pro_plan_user_help: 'If you like it, please consider using the pro plan.',
    pro_plan_licensee_help: 'What can I do for you? Please feel free to ask any questions at any time.',
    pro_plan_visitor_help: 'Please <a class="sign-in" href="#">sign in</a> and try the free version before you pay for it.',
    sign_in_modal: {
      title: 'Sign in with Google',
      body: 'First of all, please sign in with Google.<br>\n' +
          '        <br>\n' +
          '        - A license key will be issued after signing in.<br>\n' +
          '        - This app can access email address only.<br>\n' +
          '        - You can sign out at any time.',
      yes: 'Sign in',
      no: 'Cancel'
    },
    sign_out_modal: {
      title: 'Sign out',
      body: 'Are you sure you want to sign out?',
      yes: 'Sign out',
      no: 'Cancel'
    },
    cancel_subscription_modal: {
      title: 'Cancel a subscription',
      body: 'Are you sure you want to cancel a subscription?',
      yes: 'Yes, cancel a subscription',
      no: 'Close'
    }
  },
  ja: {
    de: 'ドイツ語',
    en: '英語',
    fr: 'フランス語',
    es: 'スペイン語',
    it: 'イタリア語',
    ja: '日本語',
    nl: 'オランダ語',
    pl: 'ポーランド語',
    pt: 'ポルトガル語',
    'pt-br': 'ブラジルポルトガル語',
    'pt-pt': 'イベリアポルトガル語',
    ru: 'ロシア語',
    zh: '中国語',
    language: 'UIの言語',
    web_store_description: 'このページは Deep Translator のユーザーページです。まだ Deep Translator をインストールしていない場合は、Chrome ウェブストア でインストールしてください。',
    web_store_link: 'Chrome ウェブストア',
    options_page_description: 'Deep Translator をインストール済みの場合は、拡張機能の設定ページで翻訳設定を変更できます。',
    options_page_link: 'Deep Translator 設定ページ',
    account: 'アカウント',
    sign_in: 'ライセンス キーは<a class="sign-in" href="#">ログイン</a>後に発行されます。',
    sign_out: '<a id="sign-out" href="#">ログアウト</a>',
    license_key: 'ライセンス キー',
    enter_license_key: '表示されているライセンス キーを<a href="%{url}">拡張機能の設定ページ</a>で入力してください。',
    support_account: 'サポートアカウント',
    privacy_policy: 'プライバシーポリシー',
    terms_of_service: '利用規約',
    plan: 'プラン',
    free_plan_description: '無料版の Deep Translator を利用中です。表示されているライセンス キーを<a href="%{url}">拡張機能の設定ページ</a>で入力してください。',
    pro_plan_description: 'Pro版の Deep Translator を利用中です。',
    visitor_plan_description: '無料版を利用するには、<a class="sign-in" href="#">ログイン</a>してライセンス キーを発行してください。',
    free_plan_name: 'フリー',
    free_plan_audience: '趣味を楽しむ人向け',
    free_plan_price_amount: '¥0',
    free_plan_price_description: '1人あたり、毎月、月契約の価格',
    free_plan_features: 'プランの特徴 :',
    free_plan_characters_per_translation: '250文字 / 翻訳',
    free_plan_characters_per_month: '10,000文字 / 1ヶ月',
    free_plan_button: '無料ライセンス',
    free_plan_link: '',
    free_plan_user_help: 'ログイン済みのため無料版のライセンスは既に取得済みです。',
    free_plan_visitor_help: '無料版のライセンスは<a class="sign-in" href="#">ログイン</a>するだけで取得できます。',
    pro_plan_name: 'プロフェッショナル',
    pro_plan_audience: 'ビジネス向け',
    pro_plan_price_amount: '¥500',
    pro_plan_price_description: '1人あたり、毎月、月契約の価格',
    pro_plan_features: 'プランの特徴 :',
    pro_plan_characters_per_translation: '20,000文字 / 翻訳',
    pro_plan_characters_per_month: '100,000文字 / 1ヶ月',
    pro_plan_user_button: 'アップグレード',
    pro_plan_licensee_button: '購入済み',
    pro_plan_visitor_button: 'アップグレード',
    pro_plan_link: '',
    pro_plan_cancel_button: '定期購読をキャンセルする',
    pro_plan_user_help: '気に入っていただけたなら、プロフェッショナルプランのご利用をご検討ください。',
    pro_plan_licensee_help: '何かお困りですか？ いつでもお気軽にご質問ください。',
    pro_plan_visitor_help: '有料版をご利用になる前に、まずは<a class="sign-in" href="#">ログイン</a>して無料版をご利用ください。',
    sign_in_modal: {
      title: 'Googleでログインする',
      body: 'まず初めに、Googleでログインしてください。<br>\n' +
          '        <br>\n' +
          '        - ライセンス キー はログイン後に発行されます<br>\n' +
          '        - 取得するのは email のみです<br>\n' +
          '        - いつでもログアウトできます',
      yes: 'ログイン',
      no: 'キャンセル'
    },
    sign_out_modal: {
      title: 'ログアウト',
      body: '本当にログアウトしますか？',
      yes: 'ログアウト',
      no: 'キャンセル'
    },
    cancel_subscription_modal: {
      title: '定期購読のキャンセル',
      body: '本当に定期購読をキャンセルしますか？',
      yes: 'はい、定期購読をキャンセルします。',
      no: '閉じる'
    }
  }
}

export class I18n {
  constructor(language) {
    this.language = language
  }

  t(key, attrs) {
    let text

    try {
      if (key.includes('.')) {
        text = values[this.language][key.split('.')[0]][key.split('.')[1]]
      } else {
        text = values[this.language][key]
      }

      if (attrs) {
        Object.keys(attrs).forEach(function (key) {
          text = text.replace(new RegExp('%{' + key + '}', 'g'), attrs[key])
        })
      }
    } catch (e) {
      console.error(e)
      text = 'translation missing: ' + this.language + '.' + key
    }

    return text
  }
}
